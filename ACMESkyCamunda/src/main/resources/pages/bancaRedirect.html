<!DOCTYPE html>
<html lang='en' dir='ltr'>
<head>
	<meta charset="utf-8">
  <link rel="canonical" href="https://v5.getbootstrap.com/docs/5.0/examples/sign-in/">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>

 <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
	<title>Banca</title>

</head>
<body>
	<!-- <div style='padding: 1rem 2rem; height: 3rem; background: rgb(74, 106, 201); color: #fefefe; flex-direction: column; justify-content: center;'>
		<h1 style='text-transform: uppercase; font-size: 1.5rem'>Sistema bancario</h1>
	</div> -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Sistema bancario</a>
    </div>
  </nav>

	<div class="container">
			<form id='paymentForm' class="mt-3" action='buyTickets' method='POST'>

				<input type="hidden" class="form-control" id="businessKey" name="businessKey" value="BUSINESSKEYTOSET">
				<input type="hidden" class="form-control" id="paymentID" name="paymentID" value="PAYMENTIDTOSET">

				<div class="row mb-3">
				  <label for="card" class="col-sm-2 col-form-label">Carta:</label>
				  <div class="col-sm-10">
				  	<input type="text" class="form-control" id="card" name='card' placeholder='0000000000000000' value="CARDNUMBERTOSET" required>
				  </div>
				</div>

				<div class="row mb-3">
				  <label for="secretNumber" class="col-sm-2 col-form-label">Codice Segreto:</label>
				  <div class="col-sm-10">
				  	<input type="number" class="form-control" id="secretNumber" name='secretNumber' placeholder='000' min="100" max='999' required>
				  </div>
				</div>

				<div class="row mb-3">
				  <label for="cost" class="col-sm-2 col-form-label">Costo:</label>
				  <div class="col-sm-10">
				  	<input type="text" class="form-control" id="cost" name='cost' value="COSTTOSET" disabled>
				  </div>
				</div>
				<div align ="center">
					<button type='submit' class="btn btn-danger"  id="op" name="op" value="Annulla" onclick="annulla()">Annulla</button>
					<button type='submit' class="btn btn-primary" id="op" name="op" value="Conferma">Conferma</button>
				</div>
			</form>

	</div>

	<script type="text/javascript">
		function annulla() {
	    	$('#paymentForm').find("input").each(function() {
	           $(this).attr("required", false);
	        });
	    	$("input#card").val("0000000000000000");
	    	$("#paymentForm").submit();
		};
	
		$("#paymentForm").submit(function (e) {
			if($("input#card").val().length != 16){
		          e.preventDefault();
		    }else{
				$("input#cost").removeAttr('disabled');
		    }
		});
    </script>


</body>
</html>
